(function(e){function t(t){for(var s,n,o=t[0],c=t[1],l=t[2],v=0,h=[];v<o.length;v++)n=o[v],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&h.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},r=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vue2-watch-this/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"10f7":function(e,t,a){"use strict";a("dc42")},1878:function(e,t,a){"use strict";a("f9ab")},2405:function(e,t,a){},"319c":function(e,t,a){},5336:function(e,t,a){"use strict";a("f4fe")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=a("8c4f"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TheNavbar"),a("router-view"),a("TheFooter")],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar"},[a("nav",[a("div",{staticClass:"nav-wrapper"},[a("router-link",{staticClass:"brand-logo left",attrs:{id:"logo",to:"/"}},[e._v(" WatchThis ")]),a("ul",{staticClass:"right",attrs:{id:"nav-mobile"}},[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[e._v("Movies")])],1),a("li",[a("router-link",{attrs:{to:"/about"}},[e._v("About")])],1)])],1)])])},c=[],l={},u=l,v=(a("5336"),a("2877")),h=Object(v["a"])(u,o,c,!1,null,"5742e84d",null),p=h.exports,d=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"footer-copyright"},[a("div",[e._v(" Â© 2021 Sebastian Hofer "),a("span",{staticClass:"links"},[a("a",{attrs:{href:"https://codesandbox.io/s/vue2-watch-this-qky4k",target:"_blank"}},[e._v(" CodeSandbox ")]),e._v(" | "),a("a",{attrs:{href:"https://github.com/Konfuzian/vue2-watch-this",target:"_blank"}},[e._v(" Github ")])])])])}],m={},g=m,_=(a("10f7"),Object(v["a"])(g,d,f,!1,null,"4806b767",null)),b=_.exports,y={name:"App",components:{TheNavbar:p,TheFooter:b}},w=y,k=(a("034f"),Object(v["a"])(w,r,n,!1,null,null,null)),C=k.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("SearchBar",{on:{search:e.search}}),a("MovieList",{attrs:{movies:e.movies,loading:e.loading,page:e.page,total_pages:e.total_pages},on:{"more-results":e.moreResults}})],1)},j=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.movies.length>0?a("div",{staticClass:"container"},e._l(e.movies,(function(t){return a("MovieCard",{key:t.id,attrs:{movie:t,loading:e.loading,genresById:e.genres}})})),1):!e.loading&&Object.keys(e.genres).length>0?a("div",{staticClass:"container center"},[a("i",[e._v("No search results.")])]):e._e(),a("div",{staticClass:"center scroll-fix"},[this.page<this.total_pages?a("a",{staticClass:"waves-effect waves-light btn",on:{click:e.moreResults}},[e._v(" More movies ")]):e._e()])])},O=[],T=a("2ef0"),S=a.n(T),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card hoverable sticky-action"},[a("div",{staticClass:"card-image activator waves-effect waves-block waves-dark",style:{background:e.posterPath}},[e.posterPath?e._e():a("i",{attrs:{id:"no-image"}},[e._v("No image available")])]),a("div",{staticClass:"card-content activator"},[a("span",{staticClass:"card-title activator center"},[e._v(" "+e._s(e.movie.title)+" ")]),a("div",{staticClass:"valign-wrapper"},[a("h5",{staticClass:"rating activator center-align",style:{backgroundColor:e.ratingColor}},[e._v(" "+e._s(e.rating)+" ")])])]),a("div",{staticClass:"card-reveal"},[a("span",{staticClass:"card-title"},[e._v(" "+e._s(e.movie.title)+" "+e._s(e.year)+" "),a("i",{staticClass:"material-icons close"},[e._v("close")])]),e.loading?e._e():a("MovieTrailer",{attrs:{videos:e.videos}}),a("p",e._l(e.genres,(function(t){return a("span",{key:t.id,staticClass:"chip"},[e._v(" "+e._s(t)+" ")])})),0),a("p",{staticClass:"overview"},[e._v(" "+e._s(e.movie.overview)+" ")])],1)])},M=[];async function E(){const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key="+A).then(e=>e.json());return e.genres}async function P(e,t=1){const a=await fetch(`https://api.themoviedb.org/3/search/movie?query=${e}&page=${t}&api_key=${A}`).then(e=>e.json());return[a.results,a.page,a.total_pages]}async function B(e,t=1){const a=await fetch(`https://api.themoviedb.org/3/discover/movie?page=${t}&api_key=${A}`).then(e=>e.json());return[a.results,a.page,a.total_pages]}async function N(e){const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${A}`).then(e=>e.json());return t.results}const A="eb2225b8b7ff9355c0c62193e58827ea";var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.videos.length>0?a("div",{staticClass:"iframe-container center"},[a("iframe",{attrs:{src:e.videoSrc(e.videos[0]),frameBorder:"0",allowfullscreen:""}})]):e._e()},z=[],R={props:{videos:Array},methods:{videoSrc(e){if(!e)return"";const t={YouTube:`https://www.youtube.com/embed/${e.key}?modestbranding=1`,Vimeo:"https://player.vimeo.com/video/"+e.key};return t[e.site]}}},F=R,D=(a("ae84"),Object(v["a"])(F,I,z,!1,null,"2e3566d2",null)),G=D.exports,J={props:{movie:Object,loading:Boolean,genresById:Object},components:{MovieTrailer:G},data:()=>({videos:[]}),async mounted(){this.videos=await N(this.movie.id)},computed:{posterPath(){return this.movie.poster_path?`url(https://image.tmdb.org/t/p/original/${this.movie.poster_path})`:""},genres(){return this.movie.genre_ids.map(e=>this.genresById[e])},year(){return this.movie.release_date?`(${this.movie.release_date.slice(0,4)})`:""},rating(){return this.movie.vote_average?10===this.movie.vote_average?"10":this.movie.vote_average.toFixed(1):"-"},ratingColor(){if(!this.movie.vote_average)return"rgb(0, 0, 0)";const e=255-25.5*this.movie.vote_average,t=25.5*this.movie.vote_average;return`rgb(${e}, ${t}, 0)`}}},L=J,V=(a("1878"),Object(v["a"])(L,q,M,!1,null,"2987f8a9",null)),H=V.exports,K={components:{MovieCard:H},props:{movies:Array,loading:Boolean,page:Number,total_pages:Number},data:()=>({genres:{}}),async mounted(){const e=await E();this.genres=e.reduce((function(e,t){return e[t.id]=t.name,e}),{})},methods:{moreResults:S.a.debounce((function(){this.$emit("more-results")}),1e3,{leading:!0,trailing:!1})}},W=K,Y=(a("af15"),Object(v["a"])(W,$,O,!1,null,"e663f6b6",null)),Q=Y.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row"},[a("form",{staticClass:"col s12",attrs:{autocomplete:"off"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"input-field col offset-m1 offset-l2 s11 m10 l8"},[a("i",{staticClass:"material-icons prefix"},[e._v("search")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{id:"autocomplete_input",type:"text",placeholder:"Search for a movie..."},domProps:{value:e.query},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),function(e){return e.target.blur()}(t))},input:function(t){t.target.composing||(e.query=t.target.value)}}})])])])])},X=[],Z={data:()=>({query:"",timeout:null}),watch:{query(e){this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.$emit("search",e),500)}}},ee=Z,te=(a("cbbb"),Object(v["a"])(ee,U,X,!1,null,"72ad3bad",null)),ae=te.exports,se={name:"App",components:{MovieList:Q,SearchBar:ae},data:()=>({movies:[],loading:!0,page:0,total_pages:0,query:""}),mounted(){this.discover()},methods:{async search(e,t){this.query!==e&&(this.loading=!0,this.query=e,e?([this.movies,this.page,this.total_pages]=await P(e,t),this.loading=!1):this.discover())},async discover(){this.loading=!0,[this.movies,this.page,this.total_pages]=await B(),this.loading=!1},async moreResults(){const e=""===this.query?B:P,[t,a,s]=await e(this.query,this.page+1);this.movies=[...this.movies,...t],this.page=a,this.total_pages=s}}},ie=se,re=Object(v["a"])(ie,x,j,!1,null,null,null),ne=re.exports,oe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ce=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"center"},[a("p",[e._v(" I challenged myself to create a fully functional webapp within two days. "),a("br")]),a("p",[e._v("This is the result.")]),a("p",[e._v(" The website is implemented using "),a("a",{attrs:{href:"https://vuejs.org/",target:"_blank"}},[e._v("Vue 2")]),e._v(" and the "),a("a",{attrs:{href:"https://materializecss.com/",target:"_blank"}},[e._v("Materialize")]),e._v(" CSS framework, and the data is provided by the amazing "),a("a",{attrs:{href:"https://www.themoviedb.org/",target:"_blank"}},[e._v("TMDb")]),e._v(" API. ")]),a("p",[e._v(" The code is available as a "),a("a",{attrs:{href:"https://codesandbox.io/s/vue2-watch-this-qky4k",target:"_blank"}},[e._v(" CodeSandbox ")]),e._v(" and on "),a("a",{attrs:{href:"https://github.com/kn0ch3n/vue2-watch-this",target:"_blank"}},[e._v(" Github")]),e._v(". ")]),a("p",[e._v(" If you find any bugs, let me know: "),a("a",{attrs:{href:"mailto:sebastian.hofer@gmx.net"}},[e._v("sebastian.hofer@gmx.net")])])])}],le=(a("865d"),{}),ue=Object(v["a"])(le,oe,ce,!1,null,"432e7144",null),ve=ue.exports;s["a"].config.productionTip=!1,s["a"].use(i["a"]);const he=new i["a"]({mode:"history",base:"/vue2-watch-this/",routes:[{path:"/",component:ne},{path:"/about",component:ve}]});new s["a"]({render:e=>e(C),router:he}).$mount("#app")},"85ec":function(e,t,a){},"865d":function(e,t,a){"use strict";a("c4f5")},ae84:function(e,t,a){"use strict";a("b910")},af15:function(e,t,a){"use strict";a("319c")},b910:function(e,t,a){},c4f5:function(e,t,a){},cbbb:function(e,t,a){"use strict";a("2405")},dc42:function(e,t,a){},f4fe:function(e,t,a){},f9ab:function(e,t,a){}});
//# sourceMappingURL=app.4bfe3dbb.js.map